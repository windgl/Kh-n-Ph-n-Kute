<!DOCTYPE html>
<html lang="vi">
  <head>
    <script type="text/javascript" src="https://unpkg.com/@emailjs/browser@3/dist/email.min.js"></script>

<script type="text/javascript">
   (function(){
      // Kh·ªüi t·∫°o ngay l·∫≠p t·ª©c sau khi t·∫£i th∆∞ vi·ªán
      emailjs.init("j-6LlihUH6GNu_ZZC"); // Thay Public Key c·ªßa b·∫°n v√†o ƒë√¢y
   })();
</script>
    <!-- ==========================================
         META TAGS & DOCUMENT CONFIGURATION
         ========================================== -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="Em ƒÉn c∆°m ch∆∞a? - Tr·∫£i nghi·ªám t∆∞∆°ng t√°c v·ªõi √¢m nh·∫°c, qu√† t·∫∑ng v√† l·ªùi nh·∫Øn">
    <meta name="keywords" content="gift, interactive, piano, animation, chiikawa">
    <meta name="author" content="Developed with love">
    <meta name="theme-color" content="#4A90E2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Gift">
    
    <!-- ==========================================
         OPEN GRAPH META TAGS
         ========================================== -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="üéÅ G·ª≠i Kh√©n Ph∆∞n Kute">
    <meta property="og:description" content="Em ƒÉn c∆°m ch∆∞a?">
    <meta property="og:site_name" content="Gift Website">
    <meta property="og:locale" content="vi_VN">

    <!-- ==========================================
         TWITTER META TAGS
         ========================================== -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="üéÅ G·ª≠i Kh√©n Ph∆∞n Kute">
    <meta name="twitter:description" content="Em ƒÉn c∆°m ch∆∞a?">

    <!-- ==========================================
         STYLESHEET IMPORTS
         ========================================== -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="intro-styles.css">
    <link rel="stylesheet" href="piano-styles.css">
    <link rel="stylesheet" href="gift-styles.css">
    <link rel="stylesheet" href="message-styles.css">

    <!-- ==========================================
         FONT IMPORTS
         ========================================== -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Segoe+UI:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- ==========================================
         FAVICON & APP ICONS
         ========================================== -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="images/chiikawa.png">
    <link rel="manifest" href="manifest.json">

    <!-- ==========================================
         TITLE
         ========================================== -->
    <title>üéÅ G·ª≠i Kh√©n Ph∆∞n Kute</title>

    <!-- ==========================================
         PRELOAD CRITICAL RESOURCES
         ========================================== -->
    <link rel="preload" as="image" href="images/chiikawa.png">
    <link rel="preload" as="image" href="images/gift-box.png">
    <link rel="preload" as="audio" href="audio/piano-C.mp3">
    <link rel="preload" as="audio" href="audio/piano-bg.mp3">

    <!-- ==========================================
         DNS PREFETCH
         ========================================== -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">

    <!-- ==========================================
         STYLE OVERRIDES & CUSTOM STYLES
         ========================================== -->
    <style>
      :root {
        --primary-ocean: #4A90E2;
        --primary-green: #2ECC71;
      }

      /* Smooth transitions */
      * {
        transition: background-color 0.3s ease, color 0.3s ease;
      }

      body {
        background: linear-gradient(180deg, #FAFBFC 0%, rgba(168, 230, 207, 0.2) 100%);
      }

      /* Loading screen fade out */
      .loading-screen {
        animation: loadingFadeOut 0.5s ease forwards;
        animation-delay: 2.5s;
      }

      @keyframes loadingFadeOut {
        from {
          opacity: 1;
          visibility: visible;
        }
        to {
          opacity: 0;
          visibility: hidden;
        }
      }

      /* Smooth page transitions */
      html {
        scroll-behavior: smooth;
      }

      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 10px;
      }

      ::-webkit-scrollbar-track {
        background: rgba(168, 230, 207, 0.1);
      }

      ::-webkit-scrollbar-thumb {
        background: #4A90E2;
        border-radius: 5px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: #2ECC71;
      }
    </style>
  </head>

  <body>
    
    <!-- ==========================================
         LOADING SCREEN
         ========================================== -->
    <div id="loadingScreen" class="loading-screen" role="status" aria-label="ƒêang t·∫£i trang">
      <div class="loading-spinner">
        <div class="spinner"></div>
        <p class="loading-text">ƒêang t·∫£i...</p>
      </div>
    </div>

    <!-- ==========================================
         MAIN APPLICATION CONTAINER
         ========================================== -->
    <main id="mainContainer" class="main-container" role="main">

      <!-- ==========================================
           SECTION 1: INTRO WITH CHIIKAWA & WAVE
           ========================================== -->
      <section id="section-intro" class="section active" aria-label="Ph·∫ßn gi·ªõi thi·ªáu">
        <div class="section-content">
          <div class="intro-wrapper">
            
            <!-- Chiikawa Character Display -->
            <div class="chiikawa-container" role="img" aria-label="H√¨nh ·∫£nh Chiikawa">
              <img 
                src="images/chiikawa.png" 
                alt="Chiikawa - Nh√¢n v·∫≠t ch√≠nh" 
                class="chiikawa-image animate-float"
                loading="lazy"
              >
            </div>

            <!-- Wave Animation Canvas -->
            <div class="wave-container" aria-hidden="true">
              <canvas id="waveCanvas"></canvas>
            </div>

            <!-- Main Content -->
            <div class="intro-content">
              <h1 class="intro-title animate-slideUp" role="heading" aria-level="1">
                G·ª≠i Kh√©n Ph∆∞n Kute
              </h1>
              
              <p class="intro-subtitle animate-slideUp" style="animation-delay: 0.2s;">
                Em ƒÉn c∆°m ch∆∞a?
              </p>

              <!-- Main CTA Button -->
              <button 
                id="btnIntroNext" 
                class="btn btn-primary mt-lg animate-slideUp"
                style="animation-delay: 0.4s;"
                aria-label="Ti·∫øp t·ª•c ƒë·∫øn ph·∫ßn ti·∫øp theo"
                type="button"
              >
                Ti·∫øp t·ª•c
                <svg 
                  width="20" 
                  height="20" 
                  viewBox="0 0 24 24" 
                  fill="none" 
                  stroke="currentColor" 
                  stroke-width="2"
                  aria-hidden="true"
                >
                  <path d="M5 12h14M12 5l7 7-7 7"/>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- ==========================================
           SECTION 2: INTERACTIVE PIANO
           ========================================== -->
      <section id="section-piano" class="section hidden" aria-label="Ph·∫ßn ƒë√†n piano t∆∞∆°ng t√°c">
        <div class="section-content">
          <div class="piano-wrapper">
            
            <!-- Piano Section Title -->
            <div class="piano-intro">
              <h2 class="piano-title animate-slideDown" role="heading" aria-level="2">
                √Çy da m√¨nh nh·ª©c ƒë·∫ßu qu√° 
              </h2>
              <p class="piano-subtitle animate-slideDown" style="animation-delay: 0.2s;">
                ƒê√°nh b√†i g√¨ cho m√¨nh n·ªï n√£o ƒëi b·∫°n.
              </p>
            </div>

            <!-- Piano Keys Container -->
            <div class="piano-container animate-slideUp" style="animation-delay: 0.3s;">
              <div class="piano-keys" role="group" aria-label="Ph√≠m ƒë√†n piano">
                <!-- White & Black Keys -->
                <div class="piano-key white" data-note="C" role="button" tabindex="0" aria-label="Ph√≠m C"></div>
                <div class="piano-key black" data-note="C#" role="button" tabindex="0" aria-label="Ph√≠m C#"></div>
                <div class="piano-key white" data-note="D" role="button" tabindex="0" aria-label="Ph√≠m D"></div>
                <div class="piano-key black" data-note="D#" role="button" tabindex="0" aria-label="Ph√≠m D#"></div>
                <div class="piano-key white" data-note="E" role="button" tabindex="0" aria-label="Ph√≠m E"></div>
                <div class="piano-key white" data-note="F" role="button" tabindex="0" aria-label="Ph√≠m F"></div>
                <div class="piano-key black" data-note="F#" role="button" tabindex="0" aria-label="Ph√≠m F#"></div>
                <div class="piano-key white" data-note="G" role="button" tabindex="0" aria-label="Ph√≠m G"></div>
                <div class="piano-key black" data-note="G#" role="button" tabindex="0" aria-label="Ph√≠m G#"></div>
                <div class="piano-key white" data-note="A" role="button" tabindex="0" aria-label="Ph√≠m A"></div>
                <div class="piano-key black" data-note="A#" role="button" tabindex="0" aria-label="Ph√≠m A#"></div>
                <div class="piano-key white" data-note="B" role="button" tabindex="0" aria-label="Ph√≠m B"></div>
              </div>
            </div>

            <!-- Progress Indicator -->
            <div class="piano-info mt-xl text-center">
              <p class="text-muted text-sm">üéµüéµüéµüéµüéµüéµ</p>
              <p class="progress-text text-xs mt-sm">
                <span id="pianoProgress">Alo B√≠p B√≠p ph·∫£i kh√¥ng em?</span>
              </p>
            </div>

            <!-- Next Section Button -->
            <button 
              id="btnPianoNext" 
              class="btn btn-secondary mt-xl"
              aria-label="Ti·∫øp t·ª•c ƒë·∫øn ph·∫ßn qu√† t·∫∑ng"
              type="button"
            >
              Ti·∫øp t·ª•c
              <svg 
                width="20" 
                height="20" 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                stroke-width="2"
                aria-hidden="true"
              >
                <path d="M5 12h14M12 5l7 7-7 7"/>
              </svg>
            </button>
          </div>
        </div>
      </section>

      <!-- ==========================================
           SECTION 3: GIFT BOX UNWRAP
           ========================================== -->
      <section id="section-gift" class="section hidden" aria-label="Ph·∫ßn m·ªü qu√† t·∫∑ng">
        <div class="section-content">
          <div class="gift-wrapper">
            
            <!-- Gift Box Container -->
            <div class="gift-box-container">
              <div 
                id="giftBox" 
                class="gift-box"
                role="button"
                tabindex="0"
                aria-label="H·ªôp qu√† - Nh·∫•n ƒë·ªÉ m·ªü"
              >
                <!-- Gift Box Visual -->
                <div class="gift-box-visual">
                  <img 
                    src="images/gift-box.png" 
                    alt="H·ªôp qu√† t·∫∑ng" 
                    class="gift-box-image"
                    loading="lazy"
                  >
                </div>

                <!-- Ribbon Decoration -->
                <div class="gift-ribbon" aria-hidden="true"></div>

                <!-- Click Hint -->
                <div class="gift-hint">
                  <p class="text-sm">ƒêo√°n xem trong h·ªôp c√≥ g√¨?</p>
                </div>
              </div>
            </div>

            <!-- Open Gift Button -->
            <button 
              id="btnOpenGift" 
              class="btn btn-primary mt-xl gift-open-button"
              aria-label="N√∫t m·ªü h·ªôp qu√†"
              type="button"
            >
              M·ªü H·ªôp Qu√†
              <svg 
                width="20" 
                height="20" 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                stroke-width="2"
                aria-hidden="true"
              >
                <path d="M12 2L15.09 8.26H22L17.55 12.5L20.09 18.26L12 14.01L3.91 18.26L6.45 12.5L2 8.26H8.91L12 2Z"/>
              </svg>
            </button>

            <!-- Gift Message (Hidden until opened) -->
            <div id="giftMessage" class="gift-message hidden" role="region" aria-live="polite">
              <div class="card card-gradient">
                <div class="gift-message-content">
                  <p class="gift-message-text text-lg text-center">
                    ‚ú® Kh√¥ng c√≥ g√¨ h√™t ‚ú®
                  </p>
                  <div class="divider mt-lg mb-lg" aria-hidden="true"></div>
                  <p class="gift-message-detail text-base text-center">
                    C·∫£m ∆°n b·∫°n ƒë√£ m·ªü qu√† c·ªßa m√¨nh
                  </p>
                </div>
              </div>
            </div>

            <!-- Continue Button (Hidden until gift opened) -->
            <button 
              id="btnGiftNext" 
              class="btn btn-primary mt-xl hidden"
              aria-label="Ti·∫øp t·ª•c ƒë·∫øn ph·∫ßn l·ªùi nh·∫Øn"
              type="button"
            >
              Ti·∫øp t·ª•c
              <svg 
                width="20" 
                height="20" 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                stroke-width="2"
                aria-hidden="true"
              >
                <path d="M5 12h14M12 5l7 7-7 7"/>
              </svg>
            </button>
          </div>
        </div>
      </section>

      <!-- ==========================================
           SECTION 4: MESSAGE INPUT
           ========================================== -->
      <section id="section-message" class="section hidden" aria-label="Ph·∫ßn nh·∫≠p l·ªùi nh·∫Øn">
        <div class="section-content">
          <div class="message-wrapper">
            
            <!-- Message Section Title -->
            <div class="message-intro">
              <h2 class="message-title animate-slideUp" role="heading" aria-level="2">
                ƒêi·ªÅu m√† b·∫°n mu·ªën n√≥i v·ªõi m√¨nh?
              </h2>
              <p class="message-subtitle animate-slideUp" style="animation-delay: 0.2s;">
                ( Diu Em Luon Giu Kin Trong Tym )
              </p>
            </div>

            <!-- Message Form -->
            <form 
              id="messageForm" 
              class="message-form animate-slideUp" 
              style="animation-delay: 0.4s;"
              novalidate
            >
              <div class="form-group">
                <label for="messageInput" class="form-label">ƒê√¨u mu·ªën n√≥i</label>
                <textarea 
                  id="messageInput" 
                  class="form-textarea"
                  placeholder="Vi·∫øt ƒëi·ªÅu g√¨ ƒë√≥ ·ªü ƒë√¢y..."
                  required
                  minlength="5"
                  maxlength="500"
                  aria-describedby="charCount"
                  aria-required="true"
                ></textarea>
                <p class="text-xs text-muted mt-sm" id="charCount">
                  <span id="charCountValue">0</span> / 500 k√Ω t·ª±
                </p>
              </div>

              <!-- Submit Button -->
              <button 
                type="submit" 
                class="btn btn-primary btn-lg mt-lg w-full"
                aria-label="G·ª≠i l·ªùi nh·∫Øn c·ªßa b·∫°n"
              >
                G·ª≠i cho m√¨nh 
                <svg 
                  width="20" 
                  height="20" 
                  viewBox="0 0 24 24" 
                  fill="none" 
                  stroke="currentColor" 
                  stroke-width="2"
                  aria-hidden="true"
                >
                  <path d="M19 14c1.49-1.46 3-3.5 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2 1.51 4.04 3 5.5"/>
                </svg>
              </button>
            </form>

            <!-- Success Message (Hidden until form submitted) -->
            <div id="successMessage" class="success-message hidden" role="region" aria-live="assertive" aria-label="L·ªùi nh·∫Øn ƒë∆∞·ª£c g·ª≠i th√†nh c√¥ng">
              <div class="card card-gradient">
                <div class="success-content text-center">
                  <div class="success-icon" aria-hidden="true">
                    <svg 
                      width="60" 
                      height="60" 
                      viewBox="0 0 24 24" 
                      fill="none" 
                      stroke="currentColor" 
                      stroke-width="2"
                    >
                      <polyline points="20 6 9 17 4 12"></polyline>
                    </svg>
                  </div>
                  <h3 class="text-xl mt-md">C·∫£m ∆°n b·∫°n!</h3>
                  <p class="text-muted mt-sm">
                    ƒêi·ªÅu b·∫°n mu·ªën n√≥i v·ªõi m√¨nh ƒë√£ ƒë∆∞·ª£c ghi l·∫°i üíö
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

    </main>

    <!-- ==========================================
         AUDIO ELEMENTS
         ========================================== -->
    <audio id="backgroundMusic" preload="auto" loop aria-label="√Çm nh·∫°c n·ªÅn">
      <source src="audio/piano-bg.mp3" type="audio/mpeg">
      Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ph·∫ßn t·ª≠ audio.
    </audio>

    <audio id="clickSound" preload="auto" aria-label="√Çm thanh nh·∫•p">
      <source src="audio/click-sound.mp3" type="audio/mpeg">
      Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ph·∫ßn t·ª≠ audio.
    </audio>

    <audio id="unlockSound" preload="auto" aria-label="√Çm thanh m·ªü kh√≥a">
      <source src="audio/unlock-sound.mp3" type="audio/mpeg">
      Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ph·∫ßn t·ª≠ audio.
    </audio>

    <!-- ==========================================
         JAVASCRIPT IMPORTS
         ========================================== -->
    <script src="piano-script.js" defer></script>
    <script src="gift-script.js" defer></script>
    <script src="message-script.js" defer></script>
    <script src="intro-script.js" defer></script>

    <!-- ==========================================
         INLINE SCRIPT FOR EARLY PERFORMANCE
         ========================================== -->
    <script>
      // Prevent FOUC (Flash of Unstyled Content)
      document.documentElement.style.display = 'block';

      // Performance monitoring
      if (window.performance && window.performance.mark) {
        performance.mark('app-start');
      }

      // Console info
      console.log('%cüéÅ Gift Website v2.0', 'font-size: 16px; color: #4A90E2; font-weight: bold;');
      console.log('%cDeveloped with ‚ù§Ô∏è', 'font-size: 12px; color: #2ECC71;');
    </script>

    <!-- ==========================================
         FALLBACK FOR NO JAVASCRIPT
         ========================================== -->
    <noscript>
      <style>
        .loading-screen { display: none; }
        .section { display: block; }
        .section.hidden { display: none; }
        main { display: block; }
      </style>
      <div class="container">
        <h1>·ª®ng d·ª•ng n√†y y√™u c·∫ßu JavaScript</h1>
        <p>Vui l√≤ng b·∫≠t JavaScript trong tr√¨nh duy·ªát c·ªßa b·∫°n ƒë·ªÉ ti·∫øp t·ª•c.</p>
      </div>
    </noscript>
  </body>
</html>
